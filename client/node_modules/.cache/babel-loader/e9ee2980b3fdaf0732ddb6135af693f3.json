{"remainingRequest":"D:\\Me\\git\\keyboards\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Me\\git\\keyboards\\client\\src\\store\\index.js","dependencies":[{"path":"D:\\Me\\git\\keyboards\\client\\src\\store\\index.js","mtime":1678173461297},{"path":"D:\\Me\\git\\keyboards\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672773123935},{"path":"D:\\Me\\git\\keyboards\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1672773125176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGF1dGggZnJvbSAnLi4vc2VydmljZXMvYXV0aCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBpc0Rhcms6IGZhbHNlLAogICAgbG9nZ2VkOiB7CiAgICAgIHN0YXR1czogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfdG9rZW4nKSA/IHRydWUgOiBmYWxzZQogICAgfSwKICAgIGNhcnQ6IFtdLAogICAgY2FydENvdW50OiAwCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXREYXJrOiBzdGF0ZSA9PiB7CiAgICAgIHJldHVybiBzdGF0ZS5pc0Rhcms7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldERhcms6IChzdGF0ZSwgc2V0KSA9PiB7CiAgICAgIHN0YXRlLmlzRGFyayA9IHNldDsKICAgICAgaWYgKHNldCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHAiKS5jbGFzc0xpc3QuYWRkKCJibHVyIik7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRhcmsiKS5jbGFzc0xpc3QuYWRkKCJhY3R2Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcCIpLmNsYXNzTGlzdC5yZW1vdmUoImJsdXIiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGFyayIpLmNsYXNzTGlzdC5yZW1vdmUoImFjdHYiKTsKICAgICAgfQogICAgfSwKICAgIGxvZ2luU3VjY2VzcyhzdGF0ZSkgewogICAgICBzdGF0ZS5sb2dnZWQuc3RhdHVzID0gdHJ1ZTsKICAgIH0sCiAgICBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUubG9nZ2VkLnN0YXR1cyA9IGZhbHNlOwogICAgfSwKICAgIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5sb2dnZWQuc3RhdHVzID0gZmFsc2U7CiAgICB9LAogICAgYWRkVG9DYXJ0KHN0YXRlLCBpdGVtKSB7CiAgICAgIGxldCBhID0gewogICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICBwcmljZTogaXRlbS5jb3N0LAogICAgICAgIGltZzogYHVybCgke3JlcXVpcmUoJ0AvYXNzZXRzLycgKyBpdGVtLmltZyArICcnKX0pYCwKICAgICAgICBjb3VudDogMQogICAgICB9OwogICAgICBsZXQgZm91bmQgPSBzdGF0ZS5jYXJ0LmZpbmQocHJvZHVjdCA9PiBwcm9kdWN0LmlkID09IGl0ZW0uaWQpOwogICAgICBpZiAoZm91bmQpIHsKICAgICAgICBmb3VuZC5jb3VudCsrOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmNhcnQucHVzaChhKTsKICAgICAgfQogICAgICBzdGF0ZS5jYXJ0Q291bnQrKzsKICAgIH0sCiAgICByZW1vdmVGcm9tQ2FydChzdGF0ZSwgaXRlbSkgewogICAgICBsZXQgaW5kZXggPSBzdGF0ZS5jYXJ0LmluZGV4T2YoaXRlbSk7CiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgbGV0IHByb2R1Y3QgPSBzdGF0ZS5jYXJ0W2luZGV4XTsKICAgICAgICBzdGF0ZS5jYXJ0Q291bnQgLT0gcHJvZHVjdC5jb3VudDsKICAgICAgICBzdGF0ZS5jYXJ0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBjb3VudEFkZChzdGF0ZSwgaXRlbSkgewogICAgICBsZXQgZm91bmQgPSBzdGF0ZS5jYXJ0LmZpbmQocHJvZHVjdCA9PiBwcm9kdWN0LmlkID09IGl0ZW0uaWQpOwogICAgICBpZiAoZm91bmQpIGZvdW5kLmNvdW50Kys7CiAgICB9LAogICAgY291bnRSZW1vdmUoc3RhdGUsIGl0ZW0pIHsKICAgICAgbGV0IGZvdW5kID0gc3RhdGUuY2FydC5maW5kKHByb2R1Y3QgPT4gcHJvZHVjdC5pZCA9PSBpdGVtLmlkKTsKICAgICAgaWYgKGZvdW5kKSB7CiAgICAgICAgaWYgKGZvdW5kLmNvdW50ID09IDEpIHsKICAgICAgICAgIHRoaXMuY29tbWl0KCdyZW1vdmVGcm9tQ2FydCcsIGl0ZW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3VuZC5jb3VudC0tOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW4oewogICAgICBjb21taXQKICAgIH0sIHVzZXJfaW5mbykgewogICAgICByZXR1cm4gYXV0aC5sb2dpbih1c2VyX2luZm8pLnRoZW4odXNlciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBlcnIgPT4gewogICAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZ2lzdHJhdGlvbih7CiAgICAgIGNvbW1pdAogICAgfSwgdXNlcl9pbmZvKSB7CiAgICAgIHJldHVybiBhdXRoLnJlZ2lzdHJhdGlvbih1c2VyX2luZm8pLnRoZW4odXNlciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBlcnIgPT4gewogICAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dCh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICBhdXRoLmxvZ291dCgpOwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"names":["createStore","auth","router","state","isDark","logged","status","localStorage","getItem","cart","cartCount","getters","getDark","mutations","setDark","set","document","getElementById","classList","add","remove","loginSuccess","loginFailure","logout","addToCart","item","a","id","name","price","cost","img","require","count","found","find","product","push","removeFromCart","index","indexOf","splice","countAdd","countRemove","commit","actions","login","user_info","then","user","Promise","resolve","err","reject","registration","modules"],"sources":["D:/Me/git/keyboards/client/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport auth from '../services/auth';\nimport router from '../router';\n\nexport default createStore({\n    state: {\n        isDark: false,\n        logged: {\n            status: localStorage.getItem('user_token') ? true : false\n        },\n        cart: [],\n        cartCount: 0\n    },\n    getters: {\n        getDark: state => {\n        return state.isDark;\n        }\n    },\n    mutations: {\n        setDark: (state, set) => {\n            state.isDark = set;\n            if(set) {\n                document.getElementById(\"app\").classList.add(\"blur\")\n                document.getElementById(\"dark\").classList.add(\"actv\")\n            } else {\n                document.getElementById(\"app\").classList.remove(\"blur\")\n                document.getElementById(\"dark\").classList.remove(\"actv\")\n            }\n        },\n        loginSuccess(state) {\n            state.logged.status = true;\n        },\n        loginFailure(state) {\n            state.logged.status = false;\n        },\n        logout(state) {\n            state.logged.status= false;\n        },\n        addToCart(state, item) {\n            let a = {\n                id: item.id,\n                name: item.name,\n                price: item.cost,\n                img: `url(${require('@/assets/'+ item.img +'')})`,\n                count: 1\n            }\n            \n            let found = state.cart.find(product => product.id == item.id);\n\n            if (found) {\n                found.count ++;\n            } else {\n                state.cart.push(a);\n            }\n\n            state.cartCount++;\n        },\n        removeFromCart(state, item) {\n            let index = state.cart.indexOf(item);\n        \n            if (index > -1) {\n                let product = state.cart[index];\n                state.cartCount -= product.count;\n        \n                state.cart.splice(index, 1);\n            }\n        },\n        countAdd(state, item){\n            let found = state.cart.find(product => product.id == item.id);\n\n            if(found) found.count++;\n        },\n        countRemove(state, item){\n            let found = state.cart.find(product => product.id == item.id);\n\n            if(found) {\n                if(found.count == 1){\n                    this.commit('removeFromCart', item)\n                }else {\n                    found.count--;\n                }\n            }\n        }\n    },\n    actions: {\n        login({commit}, user_info) {\n\n            return auth.login(user_info).then(user => {\n                commit('loginSuccess')\n\n                return Promise.resolve(user)\n            }, err => {\n                commit('loginFailure')\n\n                return Promise.reject(err)\n            })\n            \n        },\n        registration({commit}, user_info) {\n\n            return auth.registration(user_info).then(user => {\n                commit('loginSuccess')\n\n                return Promise.resolve(user)\n            }, err => {\n                commit('loginFailure')\n\n                return Promise.reject(err)\n            })\n            \n        },\n        logout({commit}) {\n            auth.logout();\n            commit('logout');\n\n            router.push('/login')\n        }\n    },\n    modules: {\n    }\n})\n"],"mappings":"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"}]}