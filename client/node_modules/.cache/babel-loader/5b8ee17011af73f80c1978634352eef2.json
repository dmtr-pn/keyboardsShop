{"remainingRequest":"D:\\Me\\git\\keyboards\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Me\\git\\keyboards\\client\\src\\router\\index.js","dependencies":[{"path":"D:\\Me\\git\\keyboards\\client\\src\\router\\index.js","mtime":1677427666485},{"path":"D:\\Me\\git\\keyboards\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672773123935},{"path":"D:\\Me\\git\\keyboards\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1672773125176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL3ZpZXdzL0hvbWUudnVlJzsKaW1wb3J0IFByb2R1Y3RzIGZyb20gJy4uL3ZpZXdzL1Byb2R1Y3RzLnZ1ZSc7CmltcG9ydCBDYXJ0IGZyb20gJy4uL3ZpZXdzL0NhcnQudnVlJzsKaW1wb3J0IExvZ2luIGZyb20gJy4uL3ZpZXdzL0xvZ2luLnZ1ZSc7CmltcG9ydCBSZWdpc3RyYXRpb24gZnJvbSAnLi4vdmlld3MvUmVnaXN0cmF0aW9uLnZ1ZSc7CmltcG9ydCBQcm9maWxlIGZyb20gJy4uL3ZpZXdzL1Byb2ZpbGUudnVlJzsKY29uc3Qgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9wcm9kdWN0cycsCiAgbmFtZTogJ1Byb2R1Y3RzJywKICBjb21wb25lbnQ6IFByb2R1Y3RzCn0sIHsKICBwYXRoOiAnL2NhcnQnLAogIG5hbWU6ICdDYXJ0JywKICBjb21wb25lbnQ6IENhcnQKfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogJy9yZWdpc3RyYXRpb24nLAogIG5hbWU6ICdSZWdpc3RyYXRpb24nLAogIGNvbXBvbmVudDogUmVnaXN0cmF0aW9uCn0sIHsKICBwYXRoOiAnL3Byb2ZpbGUnLAogIG5hbWU6ICdQcm9maWxlJywKICBjb21wb25lbnQ6IFByb2ZpbGUKfV07CmNvbnN0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeShwcm9jZXNzLmVudi5CQVNFX1VSTCksCiAgcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICBjb25zdCBwdWJsaWNQYWdlcyA9IFsnL2xvZ2luJywgJy9yZWdpc3RyYXRpb24nLCAnLycsICcvcHJvZHVjdHMnLCAnL2NhcnQnXTsKICBjb25zdCBhdXRoUmVxdWlyZWQgPSAhcHVibGljUGFnZXMuaW5jbHVkZXModG8ucGF0aCk7CiAgY29uc3QgbG9nZ2VkSW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl90b2tlbicpOwogIGlmIChhdXRoUmVxdWlyZWQgJiYgIWxvZ2dlZEluKSB7CiAgICBuZXh0KCcvbG9naW4nKTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"names":["createRouter","createWebHistory","Home","Products","Cart","Login","Registration","Profile","routes","path","name","component","router","history","process","env","BASE_URL","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"sources":["D:/Me/git/keyboards/client/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Products from '../views/Products.vue'\nimport Cart from '../views/Cart.vue'\nimport Login from '../views/Login.vue'\nimport Registration from '../views/Registration.vue'\nimport Profile from '../views/Profile.vue'\n\nconst routes = [\n    {\n        path: '/',\n        name: 'Home',\n        component: Home\n    },\n    {\n        path: '/products',\n        name: 'Products',\n        component: Products\n    },\n    {\n        path: '/cart',\n        name: 'Cart',\n        component: Cart\n    },\n    {\n        path: '/login',\n        name: 'Login',\n        component: Login\n    },\n    {\n        path: '/registration',\n        name: 'Registration',\n        component: Registration\n    },\n    {\n        path: '/profile',\n        name: 'Profile',\n        component: Profile\n    }\n]\n\nconst router = createRouter({\n    history: createWebHistory(process.env.BASE_URL),\n    routes\n})\n\nrouter.beforeEach((to, from, next) => {\n    const publicPages = ['/login', '/registration', '/', '/products', '/cart'];\n    const authRequired = !publicPages.includes(to.path);\n    const loggedIn = localStorage.getItem('user_token');\n  \n    if (authRequired && !loggedIn) {\n        next('/login');\n    } else {\n        next();\n    }\n});\n\nexport default router\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,OAAO,MAAM,sBAAsB;AAE1C,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAET;AACf,CAAC,EACD;EACIO,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAER;AACf,CAAC,EACD;EACIM,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEP;AACf,CAAC,EACD;EACIK,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEN;AACf,CAAC,EACD;EACII,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,cAAc;EACpBC,SAAS,EAAEL;AACf,CAAC,EACD;EACIG,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEJ;AACf,CAAC,CACJ;AAED,MAAMK,MAAM,GAAGZ,YAAY,CAAC;EACxBa,OAAO,EAAEZ,gBAAgB,CAACa,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CR;AACJ,CAAC,CAAC;AAEFI,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,WAAW,GAAG,CAAC,QAAQ,EAAE,eAAe,EAAE,GAAG,EAAE,WAAW,EAAE,OAAO,CAAC;EAC1E,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACL,EAAE,CAACT,IAAI,CAAC;EACnD,MAAMe,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;EAEnD,IAAIJ,YAAY,IAAI,CAACE,QAAQ,EAAE;IAC3BJ,IAAI,CAAC,QAAQ,CAAC;EAClB,CAAC,MAAM;IACHA,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAEF,eAAeR,MAAM"}]}